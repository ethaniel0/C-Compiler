addi $28, $0, 1
addi $29, $29, 2047
addi $8, $0, 0
sw $8, 0($0)
jal main
add $8, $0, $2
j "11"
stepMotor:
addi $8, $0, 37740
addi $9, $0, 3
lw $10, 0($0)
and $9, $10, $9
addi $11, $0, 0
"3":
blt $11, $9, "4"
j "6"
"4":
sra $12, $8, 4
add $8, $0, $12
"5":
addi $11, $11, 1
j "3"
"6":
addi $12, $0, 1
and $12, $8, $12
addi $13, $0, 4096
add $13, $13, $4
sw $12, 0($13)
"7":
sra $12, $8, 1
addi $4, $0, 1
and $4, $12, $4
addi $12, $0, 4096
add $12, $12, $5
sw $4, 0($12)
"8":
sra $4, $8, 2
addi $5, $0, 1
and $5, $4, $5
addi $4, $0, 4096
add $4, $4, $6
sw $5, 0($4)
"9":
sra $5, $8, 3
addi $6, $0, 1
and $6, $5, $6
addi $5, $0, 4096
add $5, $5, $7
sw $6, 0($5)
"10":
addi $10, $10, 1
"1":
sw $10, 0($0)
jr $31
main:
addi $8, $0, 0
addi $9, $0, 1
addi $10, $0, 12288
add $10, $10, $8
sw $9, 0($10)
"14":
addi $9, $0, 1
addi $8, $0, 1
addi $11, $0, 12288
add $11, $11, $9
sw $8, 0($11)
"15":
addi $8, $0, 2
addi $9, $0, 1
addi $12, $0, 12288
add $12, $12, $8
sw $9, 0($12)
"16":
addi $9, $0, 3
addi $8, $0, 1
addi $13, $0, 12288
add $13, $13, $9
sw $8, 0($13)
"17":
addi $8, $0, 0
addi $9, $0, 0
addi $14, $0, 4096
add $14, $14, $8
sw $9, 0($14)
"18":
addi $9, $0, 1
addi $8, $0, 0
addi $15, $0, 4096
add $15, $15, $9
sw $8, 0($15)
"19":
addi $8, $0, 2
addi $9, $0, 0
addi $16, $0, 4096
add $16, $16, $8
sw $9, 0($16)
"20":
addi $9, $0, 3
addi $8, $0, 0
addi $17, $0, 4096
add $17, $17, $9
sw $8, 0($17)
"21":
addi $8, $0, 0
addi $9, $0, 0
"22":
addi $18, $0, 1
bne $18, $0, "23"
j "12"
"23":
addi $19, $0, 0
addi $20, $0, 1
addi $21, $0, 2
addi $22, $0, 3
add $4, $0, $19
add $5, $0, $20
add $6, $0, $21
add $7, $0, $22
addi $29, $29, -4
sw $31, 0($29)
sw $18, 1($29)
sw $9, 2($29)
sw $8, 3($29)
jal stepMotor
lw $31, 0($29)
lw $18, 1($29)
lw $9, 2($29)
lw $8, 3($29)
addi $29, $29, 4
addi $8, $8, 1
j "22"
"12":
jr $31
"11":
add $0, $0, $0
